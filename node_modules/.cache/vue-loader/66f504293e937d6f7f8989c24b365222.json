{"remainingRequest":"/Users/brianphan/jets/course-catalog-v2/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/brianphan/jets/course-catalog-v2/src/components/AddSectorModal.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"/Users/brianphan/jets/course-catalog-v2/src/components/AddSectorModal.vue","mtime":1609282060283},{"path":"/Users/brianphan/jets/course-catalog-v2/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/brianphan/jets/course-catalog-v2/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/brianphan/jets/course-catalog-v2/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/brianphan/jets/course-catalog-v2/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/brianphan/jets/course-catalog-v2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/brianphan/jets/course-catalog-v2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n#add-sector-modal {\n\t.modal-container {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbottom: 0;\n\t\tbackground-color: rgba(255,255,255,0.5);\n\t\topacity: 0;\n\t\ttransition: opacity 0.4s ease;\n\t\tpointer-events: none;\n\t\tz-index: 10;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\twill-change: opacity;\n\n\t\t&.active {\n\t\t\topacity: 1;\n\t\t\tpointer-events: all;\n\n\t\t\t.modal-wrapper {\n\t\t\t\ttransform: scale( 1, 1 );\n\n\t\t\t\t.buttons .button {\n\t\t\t\t\tpointer-events: all;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t.modal-wrapper {\n\t\t\tmax-width: 700px;\n\t\t\tmax-height: 90vh;\n\t\t\ttransform: scale(0.8,0.8);\n\t\t\ttransition: transform 0.4s ease;\n\t\t\tpadding: 25px;\n\t\t\tborder-radius: 10px;\n\t\t\tbox-shadow: $floatingObject;\n\t\t\tbackground: white;\n\t\t\tposition: relative;\n\t\t\twidth: 80%;\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\toverflow: hidden scroll;\n\t\t\twill-change: transition;\n\n\t\t\t&.error {\n\n\t\t\t\t.buttons {\n\t\t\t\t\ttransform: translate3d(0, 0px, 0 );\n\t\t\t\t}\n\n\t\t\t\t.error-message {\n\t\t\t\t\topacity: 1;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t&.uploading,\n\t\t\t&.finished,\n\t\t\t&.failed {\n\n\t\t\t\t.progress-indicators {\n\t\t\t\t\topacity: 1;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t&.finished {\n\n\t\t\t\t.progress-indicators {\n\n\t\t\t\t\t.loading-circles {\n\t\t\t\t\t\topacity: 0;\n\t\t\t\t\t\ttransform: translate3d(-50%,calc(-50% - 30px),0);\n\t\t\t\t\t}\n\n\t\t\t\t\t.check {\n\t\t\t\t\t\topacity: 1 !important;\n\t\t\t\t\t\ttransform: translate3d(-50%,-50%,0) scale(3,3);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t&.failed {\n\n\t\t\t\t.progress-indicators {\n\n\t\t\t\t\t.loading-circles {\n\t\t\t\t\t\topacity: 0;\n\t\t\t\t\t}\n\n\t\t\t\t\t.failure {\n\t\t\t\t\t\topacity: 1;\n\t\t\t\t\t\ttransform: translate3d(-50%,-50%,0) scale(3,3);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t.progress-indicators {\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t\tright: 0;\n\t\t\t\tbottom: 0;\n\t\t\t\tbackground: white;\n\t\t\t\tpointer-events: none;\n\t\t\t\topacity: 0;\n\t\t\t\tz-index: 100 !important;\n\n\t\t\t\t.loading-circles,\n\t\t\t\t.check,\n\t\t\t\t.failure {\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\ttop: 50%;\n\t\t\t\t\tleft: 50%;\n\t\t\t\t\ttransform: translate3d(-50%,-50%, 0);\n\t\t\t\t\ttransition: transform 0.5s ease, opacity 0.5s ease;\n\t\t\t\t}\n\n\t\t\t\t.check {\n\t\t\t\t\topacity: 0;\n\t\t\t\t\ttransform: translate3d(-50%,calc(-50% + 50px), 0) scale( 3, 3 );\n\t\t\t\t}\n\n\t\t\t\t.failure {\n\t\t\t\t\ttransform: translate3d(-50%,calc(-50% + 50px), 0) scale(1,1);\n\t\t\t\t\topacity: 0;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-direction: column;\n\t\t\t\t\talign-items: center;\n\n\t\t\t\t\t.failed {\n\t\t\t\t\t\theight: 30px;\n\t\t\t\t\t\twidth: 30px;\n\t\t\t\t\t\tborder-radius: 50%;\n\t\t\t\t\t\tbackground: $cancel;\n\t\t\t\t\t\tposition: relative;\n\n\t\t\t\t\t\t&::before,\n\t\t\t\t\t\t&::after {\n\t\t\t\t\t\t\tcontent: ' ';\n\t\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\t\ttop: 50%;\n\t\t\t\t\t\t\tleft: 50%;\n\t\t\t\t\t\t\theight: 20px;\n\t\t\t\t\t\t\twidth: 4px;\n\t\t\t\t\t\t\tborder-radius: 2px;\n\t\t\t\t\t\t\tbackground: white;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t&::before {\n\t\t\t\t\t\t\ttransform: translate(-50%,-50%) rotate(45deg);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t&::after {\n\t\t\t\t\t\t\ttransform: translate(-50%,-50%) rotate(-45deg);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t.text {\n\t\t\t\t\t\tmargin-top: 10px;\n\t\t\t\t\t\tfont-size: 6px;\n\t\t\t\t\t\tcolor: $cancel;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t.progress-bar {\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\theight: 100%;\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\ttop: 0;\n\t\t\t\t\tleft: 0;\n\t\t\t\t\tbackground: $secondary;\n\t\t\t\t\ttransition: transform 0.2s ease;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t.spacey {\n\t\t\t\tpadding-bottom: 10px;\n\t\t\t\tborder-bottom: 1px solid $lightGrey;\n\t\t\t}\n\n\t\t\t.sector-dropdown {\n\t\t\t\tz-index: 11!important;\n\t\t\t\twidth: 100%;\n\t\t\t\tpadding-top: 15px;\n\n\t\t\t\t.select-display {\n\t\t\t\t\tz-index: 2;\n\n\t\t\t\t\tp {\n\t\t\t\t\t\twidth: 100%;\n\n\t\t\t\t\t\t&.minimal-label {\n\t\t\t\t\t\t\tleft: 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t> p {\n\t\t\t\tpointer-events: none;\n\t\t\t}\n\n\t\t\tp {\n\t\t\t\ttext-align: center;\n\t\t\t}\n\n\t\t\t.input {\n\t\t\t\tmargin: 40px 0;\n\n\t\t\t\t.input-label {\n\t\t\t\t\ttext-align: center;\n\t\t\t\t\tcolor: $primary;\n\t\t\t\t\ttransform: translate3d(0,100%,0);\n\t\t\t\t\topacity: 0;\n\t\t\t\t\ttransition: transform 0.2s ease, opacity 0.2s ease;\n\t\t\t\t\tpointer-events: none;\n\n\t\t\t\t\t&.active {\n\t\t\t\t\t\ttransform: translate3d(0,0,0);\n\t\t\t\t\t\topacity: 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tinput {\n\t\t\t\t\ttext-align: center;\n\t\t\t\t\tfont-size: 24px;\n\t\t\t\t\tfont-weight: 400;\n\t\t\t\t\twidth: 100%;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t.row {\n\t\t\t\talign-items: center;\n\t\t\t\tmargin: 10px 0;\n\n\t\t\t\t.file-input {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-direction: column;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tflex: 1 1 0;\n\n\t\t\t\t\tp.label {\n\t\t\t\t\t\tcolor: $primary;\n\t\t\t\t\t\tfont-size: 18px;\n\t\t\t\t\t\tfont-weight: 600;\n\t\t\t\t\t}\n\n\t\t\t\t\t.file-upload {\n\n\t\t\t\t\t\t&.error {\n\n\t\t\t\t\t\t\t.file {\n\t\t\t\t\t\t\t\tdisplay: none;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tlabel {\n\t\t\t\t\t\t\t\tcolor: $cancel !important;\n\t\t\t\t\t\t\t\tborder: 2px solid $cancel !important;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t.button {\n\t\t\t\t\t\t\tdisplay: none !important;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t.drop-zone {\n\t\t\t\t\t\t\tpadding: 20px;\n\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t\t\tflex-direction: row-reverse;\n\t\t\t\t\t\t\tflex-wrap: wrap;\n\n\t\t\t\t\t\t\t.upload-button {\n\t\t\t\t\t\t\t\tpadding: 15px;\n\t\t\t\t\t\t\t\tborder-radius: 30px;\n\t\t\t\t\t\t\t\tborder: 2px solid $primary;\n\t\t\t\t\t\t\t\ttext-transform: uppercase;\n\t\t\t\t\t\t\t\tbackground: transparent;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t.file {\n\t\t\t\t\t\t\t\toverflow: hidden;\n\n\t\t\t\t\t\t\t\tp {\n\t\t\t\t\t\t\t\t\toverflow: hidden;\n\t\t\t\t\t\t\t\t\ttext-overflow: ellipsis;\n\t\t\t\t\t\t\t\t\tfont-size: 14px;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t.upload-button,\n\t\t\t\t\t\t\t.no-file p,\n\t\t\t\t\t\t\t.file,\n\t\t\t\t\t\t\t.error-msg p {\n\t\t\t\t\t\t\t\tcolor: $primary;\n\t\t\t\t\t\t\t\tfont-size: 14px;\n\t\t\t\t\t\t\t\tletter-spacing: 5px;\n\t\t\t\t\t\t\t\ttext-transform: uppercase;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t.error-msg p {\n\t\t\t\t\t\t\t\tcolor: $cancel !important;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t.file,\n\t\t\t\t\t\t\t.error-msg {\n\t\t\t\t\t\t\t\tmargin: 0;\n\t\t\t\t\t\t\t\tmargin-left: 15px;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t.no-file {\n\n\t\t\t\t\t\t\t\tp {\n\t\t\t\t\t\t\t\t\tmargin-left: 15px;\n\n\t\t\t\t\t\t\t\t\t&::before {\n\t\t\t\t\t\t\t\t\t\tcontent: 'or ';\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t&:nth-child(2) {\n\t\t\t\t\t\t\t\t\t\tdisplay: none;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tp {\n\t\t\t\t\t\t\tcolor: $primary;\n\n\t\t\t\t\t\t\t&.error {\n\t\t\t\t\t\t\t\tcolor: $cancel;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t> *:not(.file-upload) {\n\t\t\t\tz-index: 10;\n\t\t\t}\n\n\t\t\t.buttons {\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: flex-end;\n\t\t\t\tjustify-content: center;\n\t\t\t\tpointer-events: none;\n\t\t\t\ttransform: translate3d(0,20px,0);\n\t\t\t\ttransition: transform 0.2s ease;\n\n\t\t\t\t.button {\n\t\t\t\t\tborder-radius: 30px;\n\t\t\t\t\tmargin: 0 15px;\n\t\t\t\t\ttext-transform: uppercase;\n\t\t\t\t\tletter-spacing: 3px;\n\t\t\t\t\tfont-size: 12px;\n\t\t\t\t\tpadding: 15px;\n\n\t\t\t\t\t&.no-bg {\n\t\t\t\t\t\tbackground: transparent;\n\t\t\t\t\t\tcolor: $grey;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t.error-message {\n\t\t\t\tcolor: $cancel;\n\t\t\t\topacity: 0;\n\t\t\t\ttransition: opacity 0.2s ease;\n\t\t\t\ttext-align: center;\n\t\t\t\tpointer-events: none;\n\t\t\t\tmargin-top: 10px;\n\t\t\t}\n\t\t}\n\t}\n}\n",{"version":3,"sources":["AddSectorModal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AddSectorModal.vue","sourceRoot":"src/components","sourcesContent":["<template lang=\"pug\">\n#add-sector-modal\n\t.modal-container(:class='{ active : state === \"add-sector\" }' @click.self='cancelSectorUpload')\n\t\t.modal-wrapper(:class='modalStep')\n\t\t\t.progress-indicators\n\t\t\t\t.progress-bar(v-bind:style='{ transform : `scale(${uploadProgress}, 1)` }')\n\t\t\t\t.loading-circles\n\t\t\t\t\tspan\n\t\t\t\t\tspan\n\t\t\t\t\tspan\n\t\t\t\t.check.active\n\t\t\t\t.failure\n\t\t\t\t\t.failed\n\t\t\t\t\t.text Failed to Upload\n\t\t\tp.spacey {{ isEditing ? 'Edit' : 'Create a New' }} Sector\n\t\t\tcustom-dropdown.sector-dropdown(\n\t\t\t\tv-model='newSector.title'\n\t\t\t\t:options='titleOptions'\n\t\t\t)\n\t\t\t.row\n\t\t\t\t.file-input\n\t\t\t\t\tp.label {{ isEditing ? 'Edit' : 'Upload' }} PDF\n\t\t\t\t\tfile-upload(\n\t\t\t\t\t\tv-show='isAdmin'\n\t\t\t\t\t\t@file='uploadPDF'\n\t\t\t\t\t\t:allowed-ext='[\"pdf\"]'\n\t\t\t\t\t\t:emit-immediately='true'\n\t\t\t\t\t\t:reset='state == \"browse\"'\n\t\t\t\t\t\t:id='\"cte-upload\"'\n\t\t\t\t\t\t:preview='newSector.fileUrl'\n\t\t\t\t\t)\n\t\t\t\t.file-input\n\t\t\t\t\tp.label {{ isEditing ? 'Edit' : 'Upload' }} Logo\n\t\t\t\t\tfile-upload(\n\t\t\t\t\t\tv-show='isAdmin'\n\t\t\t\t\t\t@file='uploadIcon'\n\t\t\t\t\t\t:allowed-ext='[\"png\", \"jpg\", \"jpeg\"]'\n\t\t\t\t\t\t:emit-immediately='true'\n\t\t\t\t\t\t:reset='state == \"browse\"'\n\t\t\t\t\t\t:preview='newSector.iconUrl'\n\t\t\t\t\t)\n\t\t\t.buttons\n\t\t\t\t.button.no-bg(@click='cancelSectorUpload') cancel\n\t\t\t\t.button(@click='() => { if ( isEditing ) { editSector() } else { saveSector() } }') save\n\t\t\t.error-message Please select a sector\n</template>\n\n<script>\nimport FileUpload from '@/components/FileUpload';\nimport CustomDropdown from '@/components/CustomDropdown';\nimport { firebase, Ref, FirebaseKey } from '@/lib/db';\n\nexport default {\n\tname : 'add-sector-modal',\n\n\tprops : {\n\t\tactiveSchoolKey : {\n\t\t\ttype : String,\n\t\t}\n\t},\n\n\tcomponents : {\n\t\tFileUpload,\n\t\tCustomDropdown,\n\t},\n\n\tdata : () => ( {\n\t\tfile           : null,\n\t\ticon           : null,\n\t\tuploadProgress : 0,\n\n\t} ),\n\n\tcomputed : {\n\t\tisAdmin() {\n\t\t\treturn this.$store.state.isAdmin;\n\t\t},\n\n\t\tstate() {\n\t\t\treturn this.$store.state.modalState;\n\t\t},\n\n\t\tmodalStep() {\n\t\t\treturn this.$store.state.modalStep;\n\t\t},\n\n\t\tisEditing() {\n\t\t\treturn this.$store.state.isEditing;\n\t\t},\n\n\t\tnewSector() {\n\t\t\treturn this.$store.state.newSector;\n\t\t},\n\n\t\ttitleOptions() {\n\t\t\treturn {\n\t\t\t\toptions     : this.getSectors,\n\t\t\t\tdefaultText : 'Select a Sector',\n\t\t\t\tsearchable  : false,\n\t\t\t};\n\t\t},\n\t},\n\n\tmethods : {\n\t\tasync getSectors() {\n\t\t\tlet data;\n\n\t\t\tconst sectorKeys = [];\n\n\t\t\tawait firebase.database().ref( 'cteSectors' )\n\t\t\t\t.once( 'value' )\n\t\t\t\t.then( ( snapshot ) => {\n\t\t\t\t\tdata = snapshot.val();\n\t\t\t\t\tconst keys = Object.keys( data );\n\n\t\t\t\t\tkeys.forEach( ( key ) => {\n\t\t\t\t\t\tsectorKeys.push( key );\n\t\t\t\t\t} );\n\t\t\t\t} );\n\n\t\t\t// we're going to through our sector keys and return\n\t\t\t// a new array of the values from the sector keys by\n\t\t\t// using the data variable\n\n\t\t\tconst formattedSectors = sectorKeys.reduce( ( sectors, key ) => {\n\n\t\t\t\tconst { value } = data[key];\n\n\t\t\t\tsectors.push( {\n\t\t\t\t\ttext : value,\n\t\t\t\t\tvalue\n\t\t\t\t} );\n\n\t\t\t\treturn sectors;\n\t\t\t}, [] );\n\n\t\t\treturn formattedSectors;\n\t\t},\n\n\t\tcancelSectorUpload() {\n\t\t\tthis.$store.dispatch( 'closeSectorUpload' );\n\t\t},\n\n\t\tuploadPDF( file ) {\n\t\t\tthis.file = file;\n\t\t},\n\n\t\tuploadIcon( icon ) {\n\t\t\tthis.icon = icon;\n\t\t},\n\n\t\tasync saveSector() {\n\t\t\tif ( !this.newSector.title ) {\n\t\t\t\tthis.$store.dispatch( 'updateStore', ['modalStep', 'error'] );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.$store.dispatch( 'updateStore', ['modalStep', 'uploading'] );\n\n\t\t\tconst schoolKey = this.activeSchoolKey;\n\t\t\tconst fileKey   = FirebaseKey();\n\t\t\tconst { file }  = this;\n\n\t\t\tconst iconKey = FirebaseKey();\n\t\t\tconst { icon } = this;\n\n\t\t\tconst uploadJobAsset = ( asset, key ) => {\n\n\t\t\t\tconst upload = firebase.storage()\n\t\t\t\t\t.ref( '/' )\n\t\t\t\t\t.child( schoolKey )\n\t\t\t\t\t.child( key )\n\t\t\t\t\t.put( asset );\n\n\t\t\t\tupload.on( 'state_changed', ( snapshot ) => {\n\t\t\t\t\tthis.uploadProgress = ( snapshot.bytesTransferred / snapshot.totalBytes );\n\t\t\t\t} );\n\n\t\t\t\treturn upload.then( snapshot => snapshot.ref.getDownloadURL() );\n\t\t\t};\n\n\t\t\tlet fileUrl  = null;\n\t\t\tlet iconUrl  = null;\n\n\n\t\t\tif ( file ) {\n\t\t\t\tfileUrl = await uploadJobAsset( file, fileKey );\n\t\t\t}\n\n\t\t\tif ( icon ) {\n\t\t\t\ticonUrl = await uploadJobAsset( icon, iconKey );\n\t\t\t}\n\n\t\t\tconst newSector = ( () => {\n\t\t\t\tconst { title } = this.newSector;\n\n\t\t\t\tconst obj = {\n\t\t\t\t\ttitle,\n\t\t\t\t};\n\n\t\t\t\tif ( fileUrl ) {\n\t\t\t\t\tobj.fileUrl = fileUrl;\n\t\t\t\t\tobj.fileKey = fileKey;\n\t\t\t\t}\n\n\t\t\t\tif ( iconUrl ) {\n\t\t\t\t\tobj.iconUrl = iconUrl;\n\t\t\t\t\tobj.iconKey = iconKey;\n\t\t\t\t}\n\n\t\t\t\treturn obj;\n\t\t\t} )();\n\n\t\t\tRef.child( 'cte' )\n\t\t\t\t.child( schoolKey )\n\t\t\t\t.child( newSector.title )\n\t\t\t\t.update( newSector )\n\t\t\t\t.then( () => {\n\n\t\t\t\t\tthis.$store.dispatch( 'updateStore', ['modalStep', 'finished'] );\n\n\t\t\t\t\twindow.setTimeout( () => {\n\t\t\t\t\t\tthis.cancelSectorUpload();\n\t\t\t\t\t}, 2000 );\n\n\t\t\t\t} )\n\t\t\t\t.catch( () => {\n\t\t\t\t\tthis.$store.dispatch( 'updateStore', ['modalStep', 'failed'] );\n\t\t\t\t} );\n\n\t\t},\n\n\t\tasync editSector() {\n\t\t\tconst schoolKey = this.activeSchoolKey;\n\t\t\tconst sectorKey = this.newSector.key;\n\n\t\t\tlet fileUrl = this.newSector.fileUrl || null;\n\t\t\tlet iconUrl = this.newSector.iconUrl || null;\n\t\t\tconst fileKey = this.newSector.fileKey || FirebaseKey();\n\t\t\tconst iconKey = this.newSector.iconKey || FirebaseKey();\n\n\t\t\tthis.$store.dispatch( 'updateStore', ['modalStep', 'uploading'] );\n\n\t\t\tconst uploadJobAsset = ( asset, key ) => {\n\n\t\t\t\tconst upload = firebase.storage()\n\t\t\t\t\t.ref( '/' )\n\t\t\t\t\t.child( schoolKey )\n\t\t\t\t\t.child( key )\n\t\t\t\t\t.put( asset );\n\n\t\t\t\tupload.on( 'state_changed', ( snapshot ) => {\n\t\t\t\t\tthis.uploadProgress = ( snapshot.bytesTransferred / snapshot.totalBytes );\n\t\t\t\t} );\n\n\t\t\t\treturn upload.then( snapshot => snapshot.ref.getDownloadURL() );\n\t\t\t};\n\n\t\t\tif ( this.file ) {\n\t\t\t\tfileUrl = await uploadJobAsset( this.file, fileKey );\n\t\t\t}\n\n\t\t\tif ( this.icon ) {\n\t\t\t\ticonUrl = await uploadJobAsset( this.icon, iconKey );\n\t\t\t}\n\n\t\t\tconst editedSector = ( () => {\n\t\t\t\tconst { title } = this.newSector;\n\n\t\t\t\tconst obj = {\n\t\t\t\t\ttitle,\n\t\t\t\t};\n\n\t\t\t\tif ( fileUrl ) {\n\t\t\t\t\tobj.fileUrl = fileUrl;\n\t\t\t\t\tobj.fileKey = fileKey;\n\t\t\t\t}\n\n\t\t\t\tif ( iconUrl ) {\n\t\t\t\t\tobj.iconUrl = iconUrl;\n\t\t\t\t\tobj.iconKey = iconKey;\n\t\t\t\t}\n\n\t\t\t\treturn obj;\n\t\t\t} )();\n\n\t\t\tRef.child( 'cte' )\n\t\t\t\t.child( schoolKey )\n\t\t\t\t.child( sectorKey )\n\t\t\t\t.update( editedSector )\n\t\t\t\t.then( ( ) => {\n\t\t\t\t\tthis.$store.dispatch( 'updateStore', ['modalStep', 'finished'] );\n\n\t\t\t\t\twindow.setTimeout( () => {\n\t\t\t\t\t\tthis.cancelSectorUpload();\n\t\t\t\t\t}, 2000 );\n\t\t\t\t} )\n\t\t\t\t.catch( () => {\n\t\t\t\t\tthis.$store.$dispatch( 'updateStore', ['modalStep', 'failed'] );\n\t\t\t\t} );\n\n\t\t},\n\n\t}\n};\n</script>\n\n<style lang=\"scss\">\n#add-sector-modal {\n\t.modal-container {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbottom: 0;\n\t\tbackground-color: rgba(255,255,255,0.5);\n\t\topacity: 0;\n\t\ttransition: opacity 0.4s ease;\n\t\tpointer-events: none;\n\t\tz-index: 10;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\twill-change: opacity;\n\n\t\t&.active {\n\t\t\topacity: 1;\n\t\t\tpointer-events: all;\n\n\t\t\t.modal-wrapper {\n\t\t\t\ttransform: scale( 1, 1 );\n\n\t\t\t\t.buttons .button {\n\t\t\t\t\tpointer-events: all;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t.modal-wrapper {\n\t\t\tmax-width: 700px;\n\t\t\tmax-height: 90vh;\n\t\t\ttransform: scale(0.8,0.8);\n\t\t\ttransition: transform 0.4s ease;\n\t\t\tpadding: 25px;\n\t\t\tborder-radius: 10px;\n\t\t\tbox-shadow: $floatingObject;\n\t\t\tbackground: white;\n\t\t\tposition: relative;\n\t\t\twidth: 80%;\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\toverflow: hidden scroll;\n\t\t\twill-change: transition;\n\n\t\t\t&.error {\n\n\t\t\t\t.buttons {\n\t\t\t\t\ttransform: translate3d(0, 0px, 0 );\n\t\t\t\t}\n\n\t\t\t\t.error-message {\n\t\t\t\t\topacity: 1;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t&.uploading,\n\t\t\t&.finished,\n\t\t\t&.failed {\n\n\t\t\t\t.progress-indicators {\n\t\t\t\t\topacity: 1;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t&.finished {\n\n\t\t\t\t.progress-indicators {\n\n\t\t\t\t\t.loading-circles {\n\t\t\t\t\t\topacity: 0;\n\t\t\t\t\t\ttransform: translate3d(-50%,calc(-50% - 30px),0);\n\t\t\t\t\t}\n\n\t\t\t\t\t.check {\n\t\t\t\t\t\topacity: 1 !important;\n\t\t\t\t\t\ttransform: translate3d(-50%,-50%,0) scale(3,3);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t&.failed {\n\n\t\t\t\t.progress-indicators {\n\n\t\t\t\t\t.loading-circles {\n\t\t\t\t\t\topacity: 0;\n\t\t\t\t\t}\n\n\t\t\t\t\t.failure {\n\t\t\t\t\t\topacity: 1;\n\t\t\t\t\t\ttransform: translate3d(-50%,-50%,0) scale(3,3);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t.progress-indicators {\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t\tright: 0;\n\t\t\t\tbottom: 0;\n\t\t\t\tbackground: white;\n\t\t\t\tpointer-events: none;\n\t\t\t\topacity: 0;\n\t\t\t\tz-index: 100 !important;\n\n\t\t\t\t.loading-circles,\n\t\t\t\t.check,\n\t\t\t\t.failure {\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\ttop: 50%;\n\t\t\t\t\tleft: 50%;\n\t\t\t\t\ttransform: translate3d(-50%,-50%, 0);\n\t\t\t\t\ttransition: transform 0.5s ease, opacity 0.5s ease;\n\t\t\t\t}\n\n\t\t\t\t.check {\n\t\t\t\t\topacity: 0;\n\t\t\t\t\ttransform: translate3d(-50%,calc(-50% + 50px), 0) scale( 3, 3 );\n\t\t\t\t}\n\n\t\t\t\t.failure {\n\t\t\t\t\ttransform: translate3d(-50%,calc(-50% + 50px), 0) scale(1,1);\n\t\t\t\t\topacity: 0;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-direction: column;\n\t\t\t\t\talign-items: center;\n\n\t\t\t\t\t.failed {\n\t\t\t\t\t\theight: 30px;\n\t\t\t\t\t\twidth: 30px;\n\t\t\t\t\t\tborder-radius: 50%;\n\t\t\t\t\t\tbackground: $cancel;\n\t\t\t\t\t\tposition: relative;\n\n\t\t\t\t\t\t&::before,\n\t\t\t\t\t\t&::after {\n\t\t\t\t\t\t\tcontent: ' ';\n\t\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\t\ttop: 50%;\n\t\t\t\t\t\t\tleft: 50%;\n\t\t\t\t\t\t\theight: 20px;\n\t\t\t\t\t\t\twidth: 4px;\n\t\t\t\t\t\t\tborder-radius: 2px;\n\t\t\t\t\t\t\tbackground: white;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t&::before {\n\t\t\t\t\t\t\ttransform: translate(-50%,-50%) rotate(45deg);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t&::after {\n\t\t\t\t\t\t\ttransform: translate(-50%,-50%) rotate(-45deg);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t.text {\n\t\t\t\t\t\tmargin-top: 10px;\n\t\t\t\t\t\tfont-size: 6px;\n\t\t\t\t\t\tcolor: $cancel;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t.progress-bar {\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\theight: 100%;\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\ttop: 0;\n\t\t\t\t\tleft: 0;\n\t\t\t\t\tbackground: $secondary;\n\t\t\t\t\ttransition: transform 0.2s ease;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t.spacey {\n\t\t\t\tpadding-bottom: 10px;\n\t\t\t\tborder-bottom: 1px solid $lightGrey;\n\t\t\t}\n\n\t\t\t.sector-dropdown {\n\t\t\t\tz-index: 11!important;\n\t\t\t\twidth: 100%;\n\t\t\t\tpadding-top: 15px;\n\n\t\t\t\t.select-display {\n\t\t\t\t\tz-index: 2;\n\n\t\t\t\t\tp {\n\t\t\t\t\t\twidth: 100%;\n\n\t\t\t\t\t\t&.minimal-label {\n\t\t\t\t\t\t\tleft: 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t> p {\n\t\t\t\tpointer-events: none;\n\t\t\t}\n\n\t\t\tp {\n\t\t\t\ttext-align: center;\n\t\t\t}\n\n\t\t\t.input {\n\t\t\t\tmargin: 40px 0;\n\n\t\t\t\t.input-label {\n\t\t\t\t\ttext-align: center;\n\t\t\t\t\tcolor: $primary;\n\t\t\t\t\ttransform: translate3d(0,100%,0);\n\t\t\t\t\topacity: 0;\n\t\t\t\t\ttransition: transform 0.2s ease, opacity 0.2s ease;\n\t\t\t\t\tpointer-events: none;\n\n\t\t\t\t\t&.active {\n\t\t\t\t\t\ttransform: translate3d(0,0,0);\n\t\t\t\t\t\topacity: 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tinput {\n\t\t\t\t\ttext-align: center;\n\t\t\t\t\tfont-size: 24px;\n\t\t\t\t\tfont-weight: 400;\n\t\t\t\t\twidth: 100%;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t.row {\n\t\t\t\talign-items: center;\n\t\t\t\tmargin: 10px 0;\n\n\t\t\t\t.file-input {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-direction: column;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tflex: 1 1 0;\n\n\t\t\t\t\tp.label {\n\t\t\t\t\t\tcolor: $primary;\n\t\t\t\t\t\tfont-size: 18px;\n\t\t\t\t\t\tfont-weight: 600;\n\t\t\t\t\t}\n\n\t\t\t\t\t.file-upload {\n\n\t\t\t\t\t\t&.error {\n\n\t\t\t\t\t\t\t.file {\n\t\t\t\t\t\t\t\tdisplay: none;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tlabel {\n\t\t\t\t\t\t\t\tcolor: $cancel !important;\n\t\t\t\t\t\t\t\tborder: 2px solid $cancel !important;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t.button {\n\t\t\t\t\t\t\tdisplay: none !important;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t.drop-zone {\n\t\t\t\t\t\t\tpadding: 20px;\n\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t\t\tflex-direction: row-reverse;\n\t\t\t\t\t\t\tflex-wrap: wrap;\n\n\t\t\t\t\t\t\t.upload-button {\n\t\t\t\t\t\t\t\tpadding: 15px;\n\t\t\t\t\t\t\t\tborder-radius: 30px;\n\t\t\t\t\t\t\t\tborder: 2px solid $primary;\n\t\t\t\t\t\t\t\ttext-transform: uppercase;\n\t\t\t\t\t\t\t\tbackground: transparent;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t.file {\n\t\t\t\t\t\t\t\toverflow: hidden;\n\n\t\t\t\t\t\t\t\tp {\n\t\t\t\t\t\t\t\t\toverflow: hidden;\n\t\t\t\t\t\t\t\t\ttext-overflow: ellipsis;\n\t\t\t\t\t\t\t\t\tfont-size: 14px;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t.upload-button,\n\t\t\t\t\t\t\t.no-file p,\n\t\t\t\t\t\t\t.file,\n\t\t\t\t\t\t\t.error-msg p {\n\t\t\t\t\t\t\t\tcolor: $primary;\n\t\t\t\t\t\t\t\tfont-size: 14px;\n\t\t\t\t\t\t\t\tletter-spacing: 5px;\n\t\t\t\t\t\t\t\ttext-transform: uppercase;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t.error-msg p {\n\t\t\t\t\t\t\t\tcolor: $cancel !important;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t.file,\n\t\t\t\t\t\t\t.error-msg {\n\t\t\t\t\t\t\t\tmargin: 0;\n\t\t\t\t\t\t\t\tmargin-left: 15px;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t.no-file {\n\n\t\t\t\t\t\t\t\tp {\n\t\t\t\t\t\t\t\t\tmargin-left: 15px;\n\n\t\t\t\t\t\t\t\t\t&::before {\n\t\t\t\t\t\t\t\t\t\tcontent: 'or ';\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t&:nth-child(2) {\n\t\t\t\t\t\t\t\t\t\tdisplay: none;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tp {\n\t\t\t\t\t\t\tcolor: $primary;\n\n\t\t\t\t\t\t\t&.error {\n\t\t\t\t\t\t\t\tcolor: $cancel;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t> *:not(.file-upload) {\n\t\t\t\tz-index: 10;\n\t\t\t}\n\n\t\t\t.buttons {\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: flex-end;\n\t\t\t\tjustify-content: center;\n\t\t\t\tpointer-events: none;\n\t\t\t\ttransform: translate3d(0,20px,0);\n\t\t\t\ttransition: transform 0.2s ease;\n\n\t\t\t\t.button {\n\t\t\t\t\tborder-radius: 30px;\n\t\t\t\t\tmargin: 0 15px;\n\t\t\t\t\ttext-transform: uppercase;\n\t\t\t\t\tletter-spacing: 3px;\n\t\t\t\t\tfont-size: 12px;\n\t\t\t\t\tpadding: 15px;\n\n\t\t\t\t\t&.no-bg {\n\t\t\t\t\t\tbackground: transparent;\n\t\t\t\t\t\tcolor: $grey;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t.error-message {\n\t\t\t\tcolor: $cancel;\n\t\t\t\topacity: 0;\n\t\t\t\ttransition: opacity 0.2s ease;\n\t\t\t\ttext-align: center;\n\t\t\t\tpointer-events: none;\n\t\t\t\tmargin-top: 10px;\n\t\t\t}\n\t\t}\n\t}\n}\n</style>\n"]}]}