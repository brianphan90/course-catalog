{"remainingRequest":"/Users/brianphan/jets/course-catalog-v2/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/brianphan/jets/course-catalog-v2/src/components/SectorInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/brianphan/jets/course-catalog-v2/src/components/SectorInfo.vue","mtime":1609282060285},{"path":"/Users/brianphan/jets/course-catalog-v2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/brianphan/jets/course-catalog-v2/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/brianphan/jets/course-catalog-v2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/brianphan/jets/course-catalog-v2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Vue from 'vue';\nimport { Ref } from '@/lib/db';\n\nexport default {\n\tname : 'sector-info',\n\n\tdata : () => ( {\n\t\tschoolName : '',\n\t\tsectorName : '',\n\n\t\tsectorCard : null, // Info on the cte Cards. fileUrl, iconUrl\n\t\tpathways   : null,\n\t\tsector     : null, // has value and description\n\n\t\tisDescriptionOpen : {} // Keeps track of which pathway descriptions are showing\n\t} ),\n\n\tcomputed : {\n\t\tfilters() {\n\t\t\treturn this.$store.state.filters;\n\t\t}\n\t},\n\n\tcreated() {\n\t\tthis.schoolName = this.$route.query.schoolName;\n\t\tthis.sectorName = this.$route.query.sectorName;\n\t},\n\n\twatch : {\n\t\tsectorName() {\n\t\t\tconst { schoolName, sectorName } = this;\n\n\t\t\tRef\n\t\t\t\t.child( 'cte' )\n\t\t\t\t.child( schoolName )\n\t\t\t\t.child( sectorName )\n\t\t\t\t.once( 'value' )\n\t\t\t\t.then( ( snapshot ) => {\n\t\t\t\t\tthis.sectorCard = snapshot.val();\n\t\t\t\t} );\n\n\t\t\tRef\n\t\t\t\t.child( 'cteSectors' )\n\t\t\t\t.child( sectorName )\n\t\t\t\t.once( 'value' )\n\t\t\t\t.then( ( snapshot ) => {\n\t\t\t\t\tthis.sector = snapshot.val();\n\t\t\t\t} );\n\n\t\t\tRef\n\t\t\t\t.child( 'ctePathways' )\n\t\t\t\t.orderByChild( 'sector' )\n\t\t\t\t.equalTo( sectorName )\n\t\t\t\t.once( 'value' )\n\t\t\t\t.then( ( snapshot ) => {\n\t\t\t\t\tthis.pathways = snapshot.val();\n\t\t\t\t} );\n\t\t},\n\t},\n\n\tmethods : {\n\t\ttoggleDescription( pathwayName ) {\n\t\t\tconst isOpen = this.isDescriptionOpen[pathwayName] ? true : false;\n\n\t\t\tVue.set( this.isDescriptionOpen, pathwayName, !isOpen );\n\t\t},\n\n\t\tviewPathwayCourses( pathwayName ) {\n\t\t\t// const schoolFilter = this.filters.find( ( filter ) => {\n\t\t\t// \tconst { type } = filter;\n\n\t\t\t// \tif ( type !== 'list' && type !== 'multi-list' ) {\n\t\t\t// \t\treturn false;\n\t\t\t// \t}\n\n\t\t\t// \treturn filter.options.find( option => option.value === this.schoolName );\n\t\t\t// } );\n\n\t\t\tconst pathwayFilter = this.filters.find( ( filter ) => {\n\t\t\t\tconst { type } = filter;\n\n\t\t\t\tif ( type !== 'list' && type !== 'multi-list' ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\treturn filter.options.find( option => option.value === pathwayName );\n\t\t\t} );\n\n\t\t\tconst query = ( () => {\n\t\t\t\tconst obj = {};\n\t\t\t\t// if ( schoolFilter ) {\n\t\t\t\t// \tquery[schoolFilter.key] = this.schoolName;\n\t\t\t\t// }\n\n\t\t\t\tif ( pathwayFilter ) {\n\t\t\t\t\tobj[pathwayFilter.key] = pathwayName;\n\t\t\t\t}\n\n\t\t\t\tobj.fromSectorInfo = true;\n\n\t\t\t\treturn obj;\n\t\t\t} )();\n\n\t\t\tthis.$router.push( {\n\t\t\t\tpath : 'courses',\n\t\t\t\tquery,\n\t\t\t} );\n\t\t},\n\n\t\tgoBack() {\n\t\t\tthis.$router.push( 'cte' );\n\t\t}\n\t}\n\n};\n",{"version":3,"sources":["SectorInfo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA","file":"SectorInfo.vue","sourceRoot":"src/components","sourcesContent":["<template lang=\"pug\">\n\t.sector-info\n\t\t.side(v-if='pathways')\n\t\t\t.sector(v-if='sectorCard')\n\t\t\t\t.title\n\t\t\t\t\timg(v-if='sectorCard.iconUrl' :src='sectorCard.iconUrl')\n\t\t\t\t\th2 {{ sectorCard.title }}\n\t\t\t\t//- .description\n\t\t\t\t//- \tp {{ sector.description }}\n\t\t\t.pathways\n\t\t\t\tp.header Pathways\n\t\t\t\t.pathway(v-for='pathway in pathways')\n\t\t\t\t\tp.name {{ pathway.value }}\n\t\t\t\t\t.pathway-options\n\t\t\t\t\t\tp(@click='toggleDescription( pathway.value )') {{ isDescriptionOpen[pathway.value] ? 'hide' : 'full' }} description\n\t\t\t\t\t\t.dot\n\t\t\t\t\t\tp(@click='viewPathwayCourses( pathway.value )') view courses\n\t\t\t\t\t.pathway-description(:class='{ open : isDescriptionOpen[pathway.value] }')\n\t\t\t\t\t\tp(v-html='pathway.description')\n\t\tiframe.pdf-viewer(v-if='sectorCard && sectorCard.fileUrl' :src='sectorCard.fileUrl')\n\t\t.no-pdf(v-else)\n\t\t\th1 No PDF uploaded for this CTE Sector\n\t\t\t.button(@click='goBack') Go Back\n\n\n</template>\n\n<script>\nimport Vue from 'vue';\nimport { Ref } from '@/lib/db';\n\nexport default {\n\tname : 'sector-info',\n\n\tdata : () => ( {\n\t\tschoolName : '',\n\t\tsectorName : '',\n\n\t\tsectorCard : null, // Info on the cte Cards. fileUrl, iconUrl\n\t\tpathways   : null,\n\t\tsector     : null, // has value and description\n\n\t\tisDescriptionOpen : {} // Keeps track of which pathway descriptions are showing\n\t} ),\n\n\tcomputed : {\n\t\tfilters() {\n\t\t\treturn this.$store.state.filters;\n\t\t}\n\t},\n\n\tcreated() {\n\t\tthis.schoolName = this.$route.query.schoolName;\n\t\tthis.sectorName = this.$route.query.sectorName;\n\t},\n\n\twatch : {\n\t\tsectorName() {\n\t\t\tconst { schoolName, sectorName } = this;\n\n\t\t\tRef\n\t\t\t\t.child( 'cte' )\n\t\t\t\t.child( schoolName )\n\t\t\t\t.child( sectorName )\n\t\t\t\t.once( 'value' )\n\t\t\t\t.then( ( snapshot ) => {\n\t\t\t\t\tthis.sectorCard = snapshot.val();\n\t\t\t\t} );\n\n\t\t\tRef\n\t\t\t\t.child( 'cteSectors' )\n\t\t\t\t.child( sectorName )\n\t\t\t\t.once( 'value' )\n\t\t\t\t.then( ( snapshot ) => {\n\t\t\t\t\tthis.sector = snapshot.val();\n\t\t\t\t} );\n\n\t\t\tRef\n\t\t\t\t.child( 'ctePathways' )\n\t\t\t\t.orderByChild( 'sector' )\n\t\t\t\t.equalTo( sectorName )\n\t\t\t\t.once( 'value' )\n\t\t\t\t.then( ( snapshot ) => {\n\t\t\t\t\tthis.pathways = snapshot.val();\n\t\t\t\t} );\n\t\t},\n\t},\n\n\tmethods : {\n\t\ttoggleDescription( pathwayName ) {\n\t\t\tconst isOpen = this.isDescriptionOpen[pathwayName] ? true : false;\n\n\t\t\tVue.set( this.isDescriptionOpen, pathwayName, !isOpen );\n\t\t},\n\n\t\tviewPathwayCourses( pathwayName ) {\n\t\t\t// const schoolFilter = this.filters.find( ( filter ) => {\n\t\t\t// \tconst { type } = filter;\n\n\t\t\t// \tif ( type !== 'list' && type !== 'multi-list' ) {\n\t\t\t// \t\treturn false;\n\t\t\t// \t}\n\n\t\t\t// \treturn filter.options.find( option => option.value === this.schoolName );\n\t\t\t// } );\n\n\t\t\tconst pathwayFilter = this.filters.find( ( filter ) => {\n\t\t\t\tconst { type } = filter;\n\n\t\t\t\tif ( type !== 'list' && type !== 'multi-list' ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\treturn filter.options.find( option => option.value === pathwayName );\n\t\t\t} );\n\n\t\t\tconst query = ( () => {\n\t\t\t\tconst obj = {};\n\t\t\t\t// if ( schoolFilter ) {\n\t\t\t\t// \tquery[schoolFilter.key] = this.schoolName;\n\t\t\t\t// }\n\n\t\t\t\tif ( pathwayFilter ) {\n\t\t\t\t\tobj[pathwayFilter.key] = pathwayName;\n\t\t\t\t}\n\n\t\t\t\tobj.fromSectorInfo = true;\n\n\t\t\t\treturn obj;\n\t\t\t} )();\n\n\t\t\tthis.$router.push( {\n\t\t\t\tpath : 'courses',\n\t\t\t\tquery,\n\t\t\t} );\n\t\t},\n\n\t\tgoBack() {\n\t\t\tthis.$router.push( 'cte' );\n\t\t}\n\t}\n\n};\n</script>\n\n<style lang=\"scss\">\n\t.sector-info\t{\n\t\theight: 100vh;\n\t\tdisplay: flex;\n\n\t\t.side {\n\t\t\twidth : 350px;\n\t\t\theight: 100%;\n\t\t\toverflow: auto;\n\n\t\t\t.sector {\n\t\t\t\tmargin: 30px 15px;\n\n\t\t\t\t.title {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-direction: column;\n\t\t\t\t\talign-items: center;\n\n\t\t\t\t\th2 {\n\t\t\t\t\t\tcolor : $primary;\n\t\t\t\t\t\ttext-align: center;\n\t\t\t\t\t}\n\n\t\t\t\t\timg, .no-icon {\n\t\t\t\t\t\theight: 100px;\n\t\t\t\t\t\twidth: 100px;\n\t\t\t\t\t\tborder-radius: 50%;\n\t\t\t\t\t\tmargin-bottom: 15px;\n\t\t\t\t\t}\n\n\t\t\t\t\tp {\n\t\t\t\t\t\tfont-size: 20px;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t.description {\n\t\t\t\t\tmargin: 25px 15px;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t.pathways {\n\t\t\t\toverflow: auto;\n\n\t\t\t\tp.header {\n\t\t\t\t\tmargin-left: 15px;\n\t\t\t\t\tmargin-bottom : 15px;\n\t\t\t\t\tfont-weight: 600;\n\t\t\t\t\tfont-size: 20px;\n\t\t\t\t\tcolor: $primary;\n\t\t\t\t}\n\n\t\t\t\t.pathway {\n\t\t\t\t\tborder-top: 1px solid $lightGrey;\n\t\t\t\t\tpadding : 20px 15px;\n\n\t\t\t\t\t&:last-child {\n\t\t\t\t\t\tborder-bottom: 1px solid $lightGrey;\n\t\t\t\t\t}\n\n\t\t\t\t\t.name {\n\t\t\t\t\t\tfont-weight: 600;\n\t\t\t\t\t}\n\n\t\t\t\t\t.pathway-options {\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\tmargin-top: 5px;\n\n\n\t\t\t\t\t\tp {\n\t\t\t\t\t\t\tcursor: pointer;\n\t\t\t\t\t\t\ttext-transform: uppercase;\n\t\t\t\t\t\t\tletter-spacing: 3px;\n\t\t\t\t\t\t\tfont-size: 12px;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t.dot {\n\t\t\t\t\t\t\tmargin: 0px 10px;\n\t\t\t\t\t\t\twidth: 5px;\n\t\t\t\t\t\t\theight: 5px;\n\t\t\t\t\t\t\tborder-radius: 50%;\n\t\t\t\t\t\t\tbackground-color: $primary;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t.pathway-description {\n\t\t\t\t\t\tdisplay: none;\n\t\t\t\t\t\tmargin-top: 20px;\n\n\t\t\t\t\t\t&.open {\n\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t.pdf-viewer {\n\t\t\theight: 100%;\n\t\t\tflex: 1 1 0;\n\t\t}\n\n\t\t.no-pdf {\n\t\t\tdisplay: flex;\n\t\t\theight: 100%;\n\t\t\tflex: 1 1 0;\n\t\t\tbackground :#d0d1db;\n\t\t\tflex-direction: column;\n\t\t\tjustify-content: center;\n\t\t\talign-items: center;\n\n\t\t\th1 {\n\t\t\t\tcolor: $primary;\n\t\t\t\tfont-size: 36px;\n\t\t\t\tmargin-bottom: 15px;\n\t\t\t}\n\n\t\t\t.button {\n\t\t\t\tfont-size: 24px;\n\t\t\t}\n\t\t}\n\t}\n\n</style>\n"]}]}