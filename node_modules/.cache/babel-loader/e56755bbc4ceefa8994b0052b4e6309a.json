{"remainingRequest":"/Users/brianphan/jets/course-catalog-v2/node_modules/babel-loader/lib/index.js!/Users/brianphan/jets/course-catalog-v2/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/brianphan/jets/course-catalog-v2/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/brianphan/jets/course-catalog-v2/src/components/Sectors.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/brianphan/jets/course-catalog-v2/src/components/Sectors.vue","mtime":1609282060285},{"path":"/Users/brianphan/jets/course-catalog-v2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/brianphan/jets/course-catalog-v2/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/brianphan/jets/course-catalog-v2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/brianphan/jets/course-catalog-v2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { Ref, firebase } from '@/lib/db';\nexport default {\n  name: 'sectors',\n  props: {\n    activeSchool: {\n      type: Object\n    }\n  },\n  data: function data() {\n    return {\n      areYouSure: false\n    };\n  },\n  computed: {\n    user: function user() {\n      return this.$store.state.user;\n    },\n    isAdmin: function isAdmin() {\n      return this.$store.state.isAdmin;\n    },\n    sectors: function sectors() {\n      return this.$store.state.sectors;\n    },\n    loadingSectors: function loadingSectors() {\n      return this.$store.state.loadingSectors;\n    }\n  },\n  methods: {\n    openSectorUpload: function openSectorUpload() {\n      var sector = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      this.$store.dispatch('openSectorUpload', sector);\n    },\n    deleteSector: function deleteSector(sector) {\n      if (!this.areYouSure) {\n        this.areYouSure = true;\n        return;\n      }\n\n      var sectorKey = sector.key;\n      var schoolKey = this.activeSchool.key;\n      Ref.child('cte').child(schoolKey).child(sectorKey).remove();\n\n      if (sector.fileKey) {\n        firebase.storage().ref('/').child(schoolKey).child(sector.fileKey).delete();\n      }\n\n      if (sector.iconKey) {\n        firebase.storage().ref('/').child(schoolKey).child(sector.iconKey).delete();\n      }\n\n      this.areYouSure = false;\n    },\n    routeTo: function routeTo(sector) {\n      this.$router.push({\n        path: 'sector-info',\n        query: {\n          schoolName: this.activeSchool.value,\n          sectorName: sector.key\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["Sectors.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA,SAAA,GAAA,EAAA,QAAA,QAAA,UAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,SADA;AAGA,EAAA,KAAA,EAAA;AACA,IAAA,YAAA,EAAA;AACA,MAAA,IAAA,EAAA;AADA;AADA,GAHA;AASA,EAAA,IAAA,EAAA;AAAA,WAAA;AACA,MAAA,UAAA,EAAA;AADA,KAAA;AAAA,GATA;AAaA,EAAA,QAAA,EAAA;AACA,IAAA,IADA,kBACA;AACA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA;AACA,KAHA;AAKA,IAAA,OALA,qBAKA;AACA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,OAAA;AACA,KAPA;AASA,IAAA,OATA,qBASA;AACA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,OAAA;AACA,KAXA;AAaA,IAAA,cAbA,4BAaA;AACA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,cAAA;AACA;AAfA,GAbA;AAgCA,EAAA,OAAA,EAAA;AACA,IAAA,gBADA,8BACA;AAAA,UAAA,MAAA,uEAAA,IAAA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,kBAAA,EAAA,MAAA;AACA,KAHA;AAKA,IAAA,YALA,wBAKA,MALA,EAKA;AAEA,UAAA,CAAA,KAAA,UAAA,EAAA;AACA,aAAA,UAAA,GAAA,IAAA;AACA;AACA;;AAEA,UAAA,SAAA,GAAA,MAAA,CAAA,GAAA;AACA,UAAA,SAAA,GAAA,KAAA,YAAA,CAAA,GAAA;AAEA,MAAA,GAAA,CAAA,KAAA,CAAA,KAAA,EACA,KADA,CACA,SADA,EAEA,KAFA,CAEA,SAFA,EAGA,MAHA;;AAKA,UAAA,MAAA,CAAA,OAAA,EAAA;AACA,QAAA,QAAA,CAAA,OAAA,GACA,GADA,CACA,GADA,EAEA,KAFA,CAEA,SAFA,EAGA,KAHA,CAGA,MAAA,CAAA,OAHA,EAIA,MAJA;AAKA;;AAEA,UAAA,MAAA,CAAA,OAAA,EAAA;AACA,QAAA,QAAA,CAAA,OAAA,GACA,GADA,CACA,GADA,EAEA,KAFA,CAEA,SAFA,EAGA,KAHA,CAGA,MAAA,CAAA,OAHA,EAIA,MAJA;AAKA;;AAEA,WAAA,UAAA,GAAA,KAAA;AAEA,KAtCA;AAwCA,IAAA,OAxCA,mBAwCA,MAxCA,EAwCA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AACA,QAAA,IAAA,EAAA,aADA;AAEA,QAAA,KAAA,EAAA;AACA,UAAA,UAAA,EAAA,KAAA,YAAA,CAAA,KADA;AAEA,UAAA,UAAA,EAAA,MAAA,CAAA;AAFA;AAFA,OAAA;AAOA;AAhDA;AAhCA,CAAA","sourcesContent":["<template lang=\"pug\">\n\t#sectors\n\t\t.sectors-wrapper(v-if='sectors.length && !loadingSectors')\n\t\t\t.cte-sector(v-for='sector in sectors' @click='routeTo( sector)')\n\t\t\t\t.sector\n\t\t\t\t\t.logo\n\t\t\t\t\t\timg(v-if='sector.iconUrl' :src='sector.iconUrl')\n\t\t\t\t\t.title\n\t\t\t\t\t\tp {{ sector.title }}\n\t\t\t\t\t.sub-title Learn more\n\t\t\t\t.hover-bar(v-if='isAdmin')\n\t\t\t\t\t.btns\n\t\t\t\t\t\t.btn-float.trash(\n\t\t\t\t\t\t\t@click.stop.prevent='deleteSector( sector )'\n\t\t\t\t\t\t\t:class='{ confirm : areYouSure }'\n\t\t\t\t\t\t\t@mouseleave='areYouSure = false'\n\t\t\t\t\t\t)\n\t\t\t\t\t\t\timg(src='/img/trash.svg')\n\t\t\t\t\t\t.btn-float.edit(\n\t\t\t\t\t\t\t@click.stop.prevent='openSectorUpload( sector )'\n\t\t\t\t\t\t)\n\t\t\t\t\t\t\timg(src='/img/edit.svg')\n\t\t\t.upload-new-sector(\n\t\t\t\tv-if='isAdmin'\n\t\t\t\t@click='openSectorUpload()'\n\t\t\t)\n\t\t\t\t.plus-sign\n\t\t\t\t.text add a new sector\n\n\t\t//- shown when there are no sectors\n\t\tp.spacey(v-if='!sectors.length && !loadingSectors') No sectors for {{ activeSchool.value }}\n\t\t.upload-new-sector(\n\t\t\tv-if='!sectors.length && !loadingSectors && isAdmin'\n\t\t\t@click='openSectorUpload()'\n\t\t)\n\t\t\t.plus-sign\n\t\t\t.text add a new sector\n\n</template>\n\n\n<script>\nimport { Ref, firebase } from '@/lib/db';\n\nexport default {\n\tname : 'sectors',\n\n\tprops : {\n\t\tactiveSchool : {\n\t\t\ttype : Object\n\t\t}\n\t},\n\n\tdata : () => ( {\n\t\tareYouSure : false,\n\t} ),\n\n\tcomputed : {\n\t\tuser() {\n\t\t\treturn this.$store.state.user;\n\t\t},\n\n\t\tisAdmin() {\n\t\t\treturn this.$store.state.isAdmin;\n\t\t},\n\n\t\tsectors() {\n\t\t\treturn this.$store.state.sectors;\n\t\t},\n\n\t\tloadingSectors() {\n\t\t\treturn this.$store.state.loadingSectors;\n\t\t},\n\n\t},\n\n\tmethods : {\n\t\topenSectorUpload( sector = null ) {\n\t\t\tthis.$store.dispatch( 'openSectorUpload', sector );\n\t\t},\n\n\t\tdeleteSector( sector ) {\n\n\t\t\tif ( !this.areYouSure ) {\n\t\t\t\tthis.areYouSure = true;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst sectorKey = sector.key;\n\t\t\tconst schoolKey = this.activeSchool.key;\n\n\t\t\tRef.child( 'cte' )\n\t\t\t\t.child( schoolKey )\n\t\t\t\t.child( sectorKey )\n\t\t\t\t.remove();\n\n\t\t\tif ( sector.fileKey ) {\n\t\t\t\tfirebase.storage()\n\t\t\t\t\t.ref( '/' )\n\t\t\t\t\t.child( schoolKey )\n\t\t\t\t\t.child( sector.fileKey )\n\t\t\t\t\t.delete();\n\t\t\t}\n\n\t\t\tif ( sector.iconKey ) {\n\t\t\t\tfirebase.storage()\n\t\t\t\t\t.ref( '/' )\n\t\t\t\t\t.child( schoolKey )\n\t\t\t\t\t.child( sector.iconKey )\n\t\t\t\t\t.delete();\n\t\t\t}\n\n\t\t\tthis.areYouSure = false;\n\n\t\t},\n\n\t\trouteTo( sector ) {\n\t\t\tthis.$router.push( {\n\t\t\t\tpath  : 'sector-info',\n\t\t\t\tquery : {\n\t\t\t\t\tschoolName : this.activeSchool.value,\n\t\t\t\t\tsectorName : sector.key,\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t},\n};\n</script>\n\n<style lang=\"scss\">\n\n#sectors {\n\tp.spacey {\n\t\ttext-align: center;\n\t\tmargin-top: 30px;\n\t}\n\n\t.upload-new-sector {\n\t\tmin-height: 100px;\n\t\tpadding: 25px;\n\t\tbackground-color: $secondary;\n\t\tborder: 2px dashed $primary;\n\t\tborder-radius: 10px;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tcursor: pointer;\n\n\t\t.plus-sign {\n\t\t\theight: 50px;\n\t\t\twidth: 50px;\n\t\t\tmargin-bottom: 25px;\n\t\t\tposition: relative;\n\n\t\t\t&::before,\n\t\t\t&::after {\n\t\t\t\tcontent: ' ';\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 50%;\n\t\t\t\tleft: 50%;\n\t\t\t\theight: 30px;\n\t\t\t\twidth: 4px;\n\t\t\t\tborder-radius: 2px;\n\t\t\t\tbackground-color: $primary;\n\t\t\t}\n\n\t\t\t&::before {\n\t\t\t\ttransform: translate(-50%,-50%);\n\t\t\t}\n\n\t\t\t&::after {\n\t\t\t\ttransform: translate(-50%,-50%) rotate(90deg);;\n\t\t\t}\n\t\t}\n\n\t\t.text {\n\t\t\tmax-width: 150px;\n\t\t\ttext-transform: uppercase;\n\t\t\tletter-spacing: 5px;\n\t\t\tcolor: $primary;\n\t\t\tline-height: 150%;\n\t\t\ttext-align: center;\n\t\t}\n\t}\n\n\t// displays when there are no sectors\n\t> .upload-new-sector {\n\t\tposition: relative;\n\t\tleft: 50%;\n\t\ttransform: translateX(-50%);\n\t\tdisplay: inline-flex;\n\t\tmargin-top: 30px;\n\t}\n\n\t.sectors-wrapper {\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\tflex-wrap: wrap;\n\t\tpadding: 10px;\n\n\t\t.cte-sector,\n\t\t.upload-new-sector {\n\t\t\twidth: calc((100% - 100px)/5);\n\t\t}\n\n\t\t.cte-sector {\n\t\t\tdisplay: flex;\n\t\t\tmargin: 10px;\n\t\t\tposition: relative;\n\n\t\t\t&:visited,\n\t\t\t&:link {\n\t\t\t\tcolor: $defaultTextColor !important;\n\t\t\t\ttext-decoration: none;\n\t\t\t}\n\n\t\t\t&:hover {\n\n\t\t\t\t.hover-bar {\n\t\t\t\t\topacity: 1;\n\t\t\t\t\tpointer-events: all;\n\n\t\t\t\t\t.btns {\n\t\t\t\t\t\ttransform: translateY(0);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t.sector:active ~ .hover-bar {\n\t\t\t\ttransform: scale( 0.9, 0.9 ) translateY(10px);\n\t\t\t}\n\n\t\t\t.sector {\n\t\t\t\tpadding: 15px;\n\t\t\t\tborder-radius: 10px;\n\t\t\t\tbox-shadow: $floatingObject;\n\t\t\t\tbackground: white;\n\t\t\t\tcursor: pointer;\n\t\t\t\tmin-height: 250px;\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column;\n\t\t\t\tflex: 1 1 0;\n\t\t\t\ttransform: scale(1,1);\n\t\t\t\ttransition: transform 0.2s ease;\n\n\t\t\t\t&:active {\n\t\t\t\t\ttransform: scale(0.9,0.9);\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t.hover-bar {\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t\tright: 0;\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column;\n\t\t\t\topacity: 0;\n\t\t\t\ttransition: opacity 0.2s ease, transform 0.2s ease;\n\t\t\t\tz-index: 10;\n\t\t\t\tpointer-events: none;\n\t\t\t\ttransform: scale(1,1);\n\t\t\t\ttransition: transform 0.2s ease;\n\n\t\t\t\t.btns {\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-flow: row-reverse;\n\t\t\t\t\tjustify-content: space-between;\n\t\t\t\t\ttransform: translateY(-40px);\n\t\t\t\t\ttransition: transform 0.2s ease;\n\t\t\t\t\talign-items: start;\n\t\t\t\t\toverflow: hidden;\n\n\n\t\t\t\t\t.btn-float {\n\t\t\t\t\t\tpadding: 0 20px;\n\t\t\t\t\t\theight: 50px;\n\t\t\t\t\t\tmargin: 10px;\n\t\t\t\t\t\tborder-radius: 25px;\n\t\t\t\t\t\tbackground: $lightGrey;\n\t\t\t\t\t\tbox-shadow: $floatingObject;\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t\ttransition: box-shadow 0.2s ease;\n\t\t\t\t\t\tposition: relative;\n\t\t\t\t\t\tcursor: pointer;\n\t\t\t\t\t\tpointer-events: all;\n\n\t\t\t\t\t\t&:active {\n\t\t\t\t\t\t\tbox-shadow: none;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t&.edit {\n\t\t\t\t\t\t\tbackground-color: #C8D1E8\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t&.trash {\n\t\t\t\t\t\t\tbackground-color: $cancel;\n\n\t\t\t\t\t\t\t&::before {\n\t\t\t\t\t\t\t\tcontent: 'click again to delete';\n\t\t\t\t\t\t\t\tfont-size: 12px;\n\t\t\t\t\t\t\t\tcolor: white;\n\t\t\t\t\t\t\t\ttext-transform: uppercase;\n\t\t\t\t\t\t\t\twhite-space: nowrap;\n\t\t\t\t\t\t\t\toverflow: hidden;\n\t\t\t\t\t\t\t\ttext-overflow: hidden;\n\t\t\t\t\t\t\t\tmax-width: 0;\n\t\t\t\t\t\t\t\tmax-height: 0;\n\t\t\t\t\t\t\t\tmargin-bottom: 2px;\n\t\t\t\t\t\t\t\ttransition: max-width 0.2s ease;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t&.confirm {\n\n\t\t\t\t\t\t\t\timg {\n\t\t\t\t\t\t\t\t\tdisplay: none;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t&::before {\n\t\t\t\t\t\t\t\t\tmax-width: 300px;\n\t\t\t\t\t\t\t\t\tmax-height: none;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t.title {\n\t\t\t\tflex: 1 0 auto;\n\n\t\t\t\tp {\n\t\t\t\t\tfont-size: 18px;\n\t\t\t\t\ttext-align: center;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t.logo {\n\t\t\t\tmargin: 15px;\n\t\t\t\talign-self: center;\n\t\t\t\theight: 100px;\n\t\t\t\twidth: 100px;\n\t\t\t\tmargin-bottom: 30px;\n\t\t\t\tborder-radius: 50%;\n\t\t\t\toverflow: hidden;\n\n\t\t\t\timg {\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\tmax-width: 250px;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t.sub-title {\n\t\t\t\tfont-size: 12px;\n\t\t\t\ttext-transform: uppercase;\n\t\t\t\tcolor: $primary;\n\t\t\t\tletter-spacing: 5px;\n\t\t\t\tmargin-top: 15px;\n\t\t\t\tflex: 0 0 auto;\n\t\t\t\tline-height: 150%;\n\t\t\t\ttext-align: center;\n\t\t\t}\n\t\t}\n\n\t\t.upload-new-sector {\n\t\t\tmargin: 10px;\n\t\t}\n\t}\n}\n\n\n/* phones */\n@media only screen and (min-width : 1px) and (max-width : 575px) {\n\t#sectors {\n\t\t.sectors-wrapper {\n\n\t\t\t.cte-sector,\n\t\t\t.upload-new-sector {\n\t\t\t\twidth: calc((100% - 20px)/1) !important;\n\t\t\t}\n\n\t\t}\n\t}\n}\n\n/* tablets */\n@media only screen and ( min-width: 576px ) and ( max-width : 1072px ) {\n\t#sectors {\n\t\t.sectors-wrapper {\n\n\t\t\t.cte-sector,\n\t\t\t.upload-new-sector {\n\t\t\t\twidth: calc((100% - 60px)/3) !important;\n\t\t\t}\n\n\t\t}\n\t}\n}\n\n\n/* desktops */\n@media only screen and ( min-width: 1073px ) and ( max-width : 1257px ) {\n\t#sectors {\n\t\t.sectors-wrapper {\n\n\t\t\t.cte-sector,\n\t\t\t.upload-new-sector {\n\t\t\t\twidth: calc((100% - 80px)/4) !important;\n\t\t\t}\n\n\t\t}\n\t}\n}\n\n\n</style>\n"],"sourceRoot":"src/components"}]}