{"remainingRequest":"/Users/brianphan/jets/course-catalog-v2/node_modules/babel-loader/lib/index.js!/Users/brianphan/jets/course-catalog-v2/node_modules/eslint-loader/index.js??ref--12-0!/Users/brianphan/jets/course-catalog-v2/src/lib/utils.js","dependencies":[{"path":"/Users/brianphan/jets/course-catalog-v2/src/lib/utils.js","mtime":1609282060289},{"path":"/Users/brianphan/jets/course-catalog-v2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/brianphan/jets/course-catalog-v2/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/brianphan/jets/course-catalog-v2/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["export var HasProperty = function HasProperty(a, b) {\n  return Object.prototype.hasOwnProperty.call(a, b);\n};\nexport var ObjToArray = function ObjToArray(object) {\n  if (object === null || object === undefined) {\n    return [];\n  }\n\n  var keys = Object.keys(object);\n  var array = keys.reduce(function (arr, key) {\n    var obj = object[key];\n\n    if (!HasProperty(obj, 'key')) {\n      obj.key = key;\n    }\n\n    arr.push(obj);\n    return arr;\n  }, []);\n  return array;\n};\nexport var FilterNode = function FilterNode(snapshot) {\n  var returnAsObj = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  return new Promise(function (resolve) {\n    var nodes = snapshot.val();\n\n    var nodeKeys = function () {\n      if (nodes === null) {\n        return [];\n      }\n\n      return Object.keys(nodes);\n    }();\n\n    var results = {};\n    var deleted = {};\n    nodeKeys.forEach(function (key) {\n      var node = nodes[key];\n\n      if (HasProperty(node, 'deleted_at')) {\n        deleted[key] = node;\n        return;\n      }\n\n      results[key] = node;\n    });\n\n    if (returnAsObj) {\n      resolve({\n        results: results,\n        deleted: deleted\n      });\n      return;\n    }\n\n    resolve(results);\n  });\n};",{"version":3,"sources":["/Users/brianphan/jets/course-catalog-v2/src/lib/utils.js"],"names":["HasProperty","a","b","Object","prototype","hasOwnProperty","call","ObjToArray","object","undefined","keys","array","reduce","arr","key","obj","push","FilterNode","snapshot","returnAsObj","Promise","resolve","nodes","val","nodeKeys","results","deleted","forEach","node"],"mappings":"AAAA,OAAO,IAAMA,WAAW,GAAG,SAAdA,WAAc,CAAEC,CAAF,EAAKC,CAAL;AAAA,SAAYC,MAAM,CAACC,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAsCL,CAAtC,EAAyCC,CAAzC,CAAZ;AAAA,CAApB;AAEP,OAAO,IAAMK,UAAU,GAAG,SAAbA,UAAa,CAAEC,MAAF,EAAc;AAEvC,MAAKA,MAAM,KAAK,IAAX,IAAmBA,MAAM,KAAKC,SAAnC,EAA+C;AAC9C,WAAO,EAAP;AACA;;AAED,MAAMC,IAAI,GAAIP,MAAM,CAACO,IAAP,CAAaF,MAAb,CAAd;AACA,MAAMG,KAAK,GAAGD,IAAI,CAACE,MAAL,CAAa,UAAEC,GAAF,EAAOC,GAAP,EAAgB;AAE1C,QAAMC,GAAG,GAAGP,MAAM,CAACM,GAAD,CAAlB;;AAEA,QAAK,CAACd,WAAW,CAAEe,GAAF,EAAO,KAAP,CAAjB,EAAkC;AACjCA,MAAAA,GAAG,CAACD,GAAJ,GAAUA,GAAV;AACA;;AAEDD,IAAAA,GAAG,CAACG,IAAJ,CAAUD,GAAV;AAEA,WAAOF,GAAP;AAEA,GAZa,EAYX,EAZW,CAAd;AAcA,SAAOF,KAAP;AAEA,CAvBM;AAyBP,OAAO,IAAMM,UAAU,GAAG,SAAbA,UAAa,CAAEC,QAAF;AAAA,MAAYC,WAAZ,uEAA0B,KAA1B;AAAA,SAAqC,IAAIC,OAAJ,CAAa,UAAEC,OAAF,EAAe;AAC1F,QAAMC,KAAK,GAAGJ,QAAQ,CAACK,GAAT,EAAd;;AAEA,QAAMC,QAAQ,GAAK,YAAM;AAExB,UAAKF,KAAK,KAAK,IAAf,EAAsB;AACrB,eAAO,EAAP;AACA;;AAED,aAAOnB,MAAM,CAACO,IAAP,CAAaY,KAAb,CAAP;AAEA,KARgB,EAAjB;;AAUA,QAAMG,OAAO,GAAG,EAAhB;AACA,QAAMC,OAAO,GAAG,EAAhB;AAEAF,IAAAA,QAAQ,CAACG,OAAT,CAAkB,UAAEb,GAAF,EAAW;AAE5B,UAAMc,IAAI,GAAGN,KAAK,CAACR,GAAD,CAAlB;;AAEA,UAAKd,WAAW,CAAE4B,IAAF,EAAQ,YAAR,CAAhB,EAAyC;AACxCF,QAAAA,OAAO,CAACZ,GAAD,CAAP,GAAec,IAAf;AAEA;AACA;;AAEDH,MAAAA,OAAO,CAACX,GAAD,CAAP,GAAec,IAAf;AAEA,KAZD;;AAcA,QAAKT,WAAL,EAAmB;AAClBE,MAAAA,OAAO,CAAE;AAAEI,QAAAA,OAAO,EAAPA,OAAF;AAAWC,QAAAA,OAAO,EAAPA;AAAX,OAAF,CAAP;AAEA;AACA;;AAEDL,IAAAA,OAAO,CAAEI,OAAF,CAAP;AAEA,GAtC8D,CAArC;AAAA,CAAnB","sourcesContent":["export const HasProperty = ( a, b ) => Object.prototype.hasOwnProperty.call( a, b );\n\nexport const ObjToArray = ( object ) => {\n\n\tif ( object === null || object === undefined ) {\n\t\treturn [];\n\t}\n\n\tconst keys  = Object.keys( object );\n\tconst array = keys.reduce( ( arr, key ) => {\n\n\t\tconst obj = object[key];\n\n\t\tif ( !HasProperty( obj, 'key' ) ) {\n\t\t\tobj.key = key;\n\t\t}\n\n\t\tarr.push( obj );\n\n\t\treturn arr;\n\n\t}, [] );\n\n\treturn array;\n\n};\n\nexport const FilterNode = ( snapshot, returnAsObj = false ) => new Promise( ( resolve ) => {\n\tconst nodes = snapshot.val();\n\n\tconst nodeKeys = ( () => {\n\n\t\tif ( nodes === null ) {\n\t\t\treturn [];\n\t\t}\n\n\t\treturn Object.keys( nodes );\n\n\t} )();\n\n\tconst results = {};\n\tconst deleted = {};\n\n\tnodeKeys.forEach( ( key ) => {\n\n\t\tconst node = nodes[key];\n\n\t\tif ( HasProperty( node, 'deleted_at' ) ) {\n\t\t\tdeleted[key] = node;\n\n\t\t\treturn;\n\t\t}\n\n\t\tresults[key] = node;\n\n\t} );\n\n\tif ( returnAsObj ) {\n\t\tresolve( { results, deleted } );\n\n\t\treturn;\n\t}\n\n\tresolve( results );\n\n} );\n"]}]}