{"remainingRequest":"/Users/brianphan/jets/course-catalog-v2/node_modules/babel-loader/lib/index.js!/Users/brianphan/jets/course-catalog-v2/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/brianphan/jets/course-catalog-v2/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/brianphan/jets/course-catalog-v2/src/components/Filters.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/brianphan/jets/course-catalog-v2/src/components/Filters.vue","mtime":1609282060284},{"path":"/Users/brianphan/jets/course-catalog-v2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/brianphan/jets/course-catalog-v2/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/brianphan/jets/course-catalog-v2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/brianphan/jets/course-catalog-v2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: 'filters',\n  data: function data() {\n    return {\n      optionsClasses: {} // For offseting the dropdowns when they are on the edge of the\n\n    };\n  },\n  computed: {\n    filters: function filters() {\n      return this.$store.state.filters;\n    },\n    selectedFilters: function selectedFilters() {\n      return this.$store.state.selectedFilters;\n    },\n    openedFilters: function openedFilters() {\n      return this.$store.state.openedFilters;\n    },\n    primaryKey: function primaryKey() {\n      return this.$store.state.model.primaryFilter;\n    }\n  },\n  watch: {\n    filters: function filters(_filters) {\n      var _this = this;\n\n      if (!_filters.length) {\n        return;\n      }\n\n      this.$nextTick(function () {\n        _this.optionsClasses = {};\n\n        var leftBound = _this.$refs.filters.getBoundingClientRect().left;\n\n        var listFilters = _filters.filter(function (a) {\n          return a.type === 'list' || a.type === 'multi-list';\n        });\n\n        listFilters.forEach(function (filter) {\n          var key = filter.key;\n\n          var elBounds = _this.$refs[key][0].getBoundingClientRect();\n\n          var width = elBounds.width;\n          var left = elBounds.left;\n\n          if (left - width / 2 < leftBound) {\n            _this.optionsClasses[key] = 'left';\n          }\n        });\n      });\n    }\n  },\n  methods: {\n    position: function position(filter) {\n      var key = filter.key;\n      var ref = this.$refs[key];\n\n      if (!ref) {\n        return '';\n      }\n\n      var filtersElBounds = this.$refs.filters.getBoundingClientRect();\n      var el = ref[0];\n      var elBounds = el.getBoundingClientRect();\n\n      if (elBounds.left + 25 < filtersElBounds.left) {\n        return {\n          left: '150%'\n        };\n      }\n\n      if (elBounds.right > filtersElBounds.right) {\n        return 'right';\n      }\n\n      return '';\n    },\n    toggleOption: function toggleOption(filter, option) {\n      var value = option.value;\n      var key = filter.key;\n      var payload = {\n        key: key,\n        value: value\n      };\n      this.$store.dispatch('selectFilter', payload);\n    },\n    toggleBoolean: function toggleBoolean(filter) {\n      var key = filter.key;\n      var payload = {\n        key: key,\n        value: !this.selectedFilters[key]\n      };\n      this.$store.dispatch('selectFilter', payload);\n    },\n    setOpened: function setOpened(key, value) {\n      var payload = {\n        key: key,\n        value: value\n      };\n      this.$store.dispatch('updateOpened', payload);\n    }\n  }\n};",{"version":3,"sources":["Filters.vue"],"names":[],"mappings":"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","sourcesContent":["<template lang=\"pug\">\n\t.filters-wrapper\n\t\t.filters.noselect(ref='filters')\n\t\t\t.filter(v-for='filter in filters' :class='filter.class')\n\t\t\t\t.dropdown-menu(\n\t\t\t\t\tv-if='filter.type == \"list\" || filter.type == \"multi-list\"'\n\t\t\t\t\t:class='{ opened : openedFilters[filter.key], hidden : filter.key === primaryKey}'\n\t\t\t\t\t@click='setOpened( filter.key, !openedFilters[filter.key] )'\n\t\t\t\t\t@mouseleave='setOpened( filter.key, false )'\n\t\t\t\t)\n\t\t\t\t\tp {{ filter.key }}\n\t\t\t\t\t.arrow\n\t\t\t\t\t.options(\n\t\t\t\t\t\t:ref='filter.key'\n\t\t\t\t\t\t:class='optionsClasses[filter.key]'\n\t\t\t\t\t)\n\t\t\t\t\t\t.option(\n\t\t\t\t\t\t\tv-for='option in filter.options'\n\t\t\t\t\t\t\t:class='{ active : selectedFilters[filter.key] == option.value }'\n\t\t\t\t\t\t\t@click.stop='toggleOption( filter, option )'\n\t\t\t\t\t\t)\n\t\t\t\t\t\t\tp {{ option.value }}\n\t\t\t\t.boolean(v-if='filter.type == \"boolean\"' :class='{ active : selectedFilters[filter.key] }' @click='toggleBoolean( filter )')\n\t\t\t\t\tp {{ filter.key }}\n\t\t\t\t.boolean(v-if='filter.type == \"arbitrary\"' :class='{ active : selectedFilters[filter.key] }' @click='toggleBoolean( filter )')\n\t\t\t\t\tp {{ filter.key }}\n</template>\n\n<script>\nexport default {\n\tname : 'filters',\n\n\tdata : () => ( {\n\t\toptionsClasses : {}, // For offseting the dropdowns when they are on the edge of the\n\t} ),\n\n\tcomputed : {\n\t\tfilters() {\n\t\t\treturn this.$store.state.filters;\n\t\t},\n\t\tselectedFilters() {\n\t\t\treturn this.$store.state.selectedFilters;\n\t\t},\n\t\topenedFilters() {\n\t\t\treturn this.$store.state.openedFilters;\n\t\t},\n\t\tprimaryKey() {\n\t\t\treturn this.$store.state.model.primaryFilter;\n\t\t}\n\t},\n\n\twatch : {\n\t\tfilters( filters ) {\n\n\t\t\tif ( !filters.length ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.$nextTick( () => {\n\t\t\t\tthis.optionsClasses = {};\n\n\t\t\t\tconst leftBound = this.$refs.filters.getBoundingClientRect().left;\n\n\t\t\t\tconst listFilters = filters.filter( a => a.type === 'list' || a.type === 'multi-list' );\n\n\t\t\t\tlistFilters.forEach( ( filter ) => {\n\t\t\t\t\tconst { key } = filter;\n\n\t\t\t\t\tconst elBounds = this.$refs[key][0].getBoundingClientRect();\n\n\t\t\t\t\tconst { width } = elBounds;\n\t\t\t\t\tconst { left }  = elBounds;\n\n\t\t\t\t\tif ( left - width / 2 < leftBound ) {\n\t\t\t\t\t\tthis.optionsClasses[key] = 'left';\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t} );\n\n\t\t},\n\t},\n\n\tmethods : {\n\n\t\tposition( filter ) {\n\t\t\tconst { key } = filter;\n\t\t\tconst ref = this.$refs[key];\n\n\t\t\tif ( !ref ) {\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\tconst filtersElBounds = this.$refs.filters.getBoundingClientRect();\n\n\t\t\tconst el = ref[0];\n\n\t\t\tconst elBounds = el.getBoundingClientRect();\n\n\t\t\tif ( elBounds.left + 25 < filtersElBounds.left ) {\n\t\t\t\treturn {\n\t\t\t\t\tleft : '150%'\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif ( elBounds.right > filtersElBounds.right ) {\n\t\t\t\treturn 'right';\n\t\t\t}\n\n\t\t\treturn '';\n\n\t\t},\n\n\t\ttoggleOption( filter, option ) {\n\t\t\tconst { value } = option;\n\t\t\tconst { key } = filter;\n\n\t\t\tconst payload = {\n\t\t\t\tkey,\n\t\t\t\tvalue,\n\t\t\t};\n\n\t\t\tthis.$store.dispatch( 'selectFilter', payload );\n\t\t},\n\n\t\ttoggleBoolean( filter ) {\n\t\t\tconst { key } = filter;\n\n\t\t\tconst payload = {\n\t\t\t\tkey,\n\t\t\t\tvalue : !this.selectedFilters[key]\n\t\t\t};\n\n\t\t\tthis.$store.dispatch( 'selectFilter', payload );\n\t\t},\n\n\t\tsetOpened( key, value ) {\n\t\t\tconst payload = {\n\t\t\t\tkey,\n\t\t\t\tvalue\n\t\t\t};\n\t\t\tthis.$store.dispatch( 'updateOpened', payload );\n\t\t}\n\t},\n};\n</script>\n\n<style lang=\"scss\">\n\t@import '@/assets/variables.scss';\n\n\t.filters-wrapper {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tposition: relative;\n\t\toverflow: hidden;\n\n\t\t&::before {\n\t\t\tcontent: ' ';\n\t\t\theight: 45px;\n\t\t\twidth: 100%;\n\t\t\tposition: absolute;\n\t\t\tleft: 0;\n\t\t\ttop: 0;\n\t\t\tbackground: white;\n\t\t\tbox-shadow: $floatingObject\n\t\t}\n\n\t\t.filters {\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: center;\n\t\t\twidth: 100%;\n\t\t\theight: calc(100vh - 16px );\n\t\t\talign-items: flex-start;\n\n\t\t\t.dropdown-menu {\n\t\t\t\tposition: relative;\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tpadding: 10px 10px;\n\t\t\t\tcursor: pointer;\n\t\t\t\tcolor: #646971;\n\t\t\t\ttransition: all .2s ease;\n\t\t\t\tpadding-right: 25px;\n\n\t\t\t\t&.hidden {\n\t\t\t\t\tdisplay : none;\n\t\t\t\t}\n\n\t\t\t\tp {\n\t\t\t\t\tcolor : $primary;\n\t\t\t\t}\n\n\t\t\t\t&::after {\n\t\t\t\t\tborder-color: $primary;\n\t\t\t\t}\n\n\t\t\t\t&.opened {\n\n\t\t\t\t\t&::after {\n\t\t\t\t\t\ttransform: translate(-100%,-34%) rotate(225deg);\n\t\t\t\t\t}\n\n\t\t\t\t\t.arrow {\n\t\t\t\t\t\topacity: 1;\n\t\t\t\t\t\tpointer-events: all;\n\t\t\t\t\t}\n\n\t\t\t\t\t.options {\n\t\t\t\t\t\topacity: 1;\n\t\t\t\t\t\tpointer-events: all;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t&:after {\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\twidth: 4px;\n\t\t\t\t\theight: 4px;\n\t\t\t\t\ttop: 50%;\n\t\t\t\t\tright: 0;\n\t\t\t\t\tborder-right: #4a4a4a solid 2px;\n\t\t\t\t\tborder-bottom: #4a4a4a solid 2px;\n\t\t\t\t\ttransform: translate(-100%,-66%) rotate(45deg);\n\t\t\t\t\ttransition: all .2s ease;\n\t\t\t\t\tcontent: ' ';\n\t\t\t\t}\n\n\t\t\t\t.arrow {\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\theight: 30px;\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\tmin-width: 250px;\n\t\t\t\t\toverflow: hidden;\n\t\t\t\t\ttop: 100%;\n\t\t\t\t\tleft: 50%;\n\t\t\t\t\ttransform: translateX(-50%);\n\t\t\t\t\tz-index: 10;\n\t\t\t\t\topacity: 0;\n\t\t\t\t\ttransition: opacity 0.2s ease;\n\t\t\t\t\tpointer-events: none;\n\n\t\t\t\t\t&::before {\n\t\t\t\t\t\tcontent: ' ';\n\t\t\t\t\t\theight: 30px;\n\t\t\t\t\t\twidth: 30px;\n\t\t\t\t\t\tbackground: white;\n\t\t\t\t\t\tbox-shadow: $floatingObject;\n\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\ttop: 100%;\n\t\t\t\t\t\tleft: 50%;\n\t\t\t\t\t\ttransform: translate(-50%,-50%) rotate(45deg);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t.options {\n\t\t\t\t\topacity: 0;\n\t\t\t\t\tpadding: 5px;\n\t\t\t\t\ttransition: all .2s ease;\n\t\t\t\t\tpointer-events: none;\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\tbox-shadow: $floatingObject;\n\t\t\t\t\ttop: calc(100% + 30px);\n\t\t\t\t\tleft: 50%;\n\t\t\t\t\tmin-width: 200px;\n\t\t\t\t\tborder-radius: 10px;\n\t\t\t\t\ttransform: translateX(-50%);\n\t\t\t\t\tbackground-color: white;\n\t\t\t\t\twhite-space: nowrap;\n\t\t\t\t\tz-index: 1;\n\t\t\t\t\tmax-height: 500px;\n\t\t\t\t\toverflow: auto;\n\n\t\t\t\t\t&.left {\n\t\t\t\t\t\tleft : 0%;\n\t\t\t\t\t\ttransform: translateX(0%);\n\t\t\t\t\t}\n\n\t\t\t\t\t.option {\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\tpadding: 5px 10px 5px 35px;\n\t\t\t\t\t\tposition: relative;\n\n\t\t\t\t\t\t&::after {\n\t\t\t\t\t\t\tcontent: \" \";\n\t\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\t\ttop: 50%;\n\t\t\t\t\t\t\tleft: 10px;\n\t\t\t\t\t\t\theight: 12px;\n\t\t\t\t\t\t\twidth: 12px;\n\t\t\t\t\t\t\tborder: 2px solid $primary;\n\t\t\t\t\t\t\ttransform: translateY(-50%);\n\t\t\t\t\t\t\tborder-radius: 3px;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t&.active {\n\n\t\t\t\t\t\t\t&::after {\n\t\t\t\t\t\t\t\tbackground-color: $primary;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t&::before {\n\t\t\t\t\t\t\t\tcontent: \" \";\n\t\t\t\t\t\t\t\theight: 4px;\n\t\t\t\t\t\t\t\twidth: 8px;\n\t\t\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\t\t\ttop: 18px;\n\t\t\t\t\t\t\t\tleft: 12px;\n\t\t\t\t\t\t\t\tborder-left: 3px solid white;\n\t\t\t\t\t\t\t\tborder-bottom: 3px solid white;\n\t\t\t\t\t\t\t\ttransform: translateY(calc(-50% - 3px)) rotate(-45deg);\n\t\t\t\t\t\t\t\tz-index: 10;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t}\n\n\t\t.filter {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\twhite-space: nowrap;\n\t\t\tpointer-events: all;\n\n\t\t\tp {\n\t\t\t\tfont-size: 14px;\n\t\t\t\tfont-weight: 600;\n\t\t\t\ttext-transform: uppercase;\n\t\t\t}\n\n\t\t\t&.hidden {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\n\t\t\t.boolean {\n\t\t\t\tpadding: 10px 5px 10px 30px;\n\t\t\t\tposition: relative;\n\t\t\t\tcursor: pointer;\n\t\t\t\tcolor: $primary;\n\n\t\t\t\t&::after {\n\t\t\t\t\tcontent: \" \";\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\ttop: 50%;\n\t\t\t\t\tleft: 6%;\n\t\t\t\t\theight: 12px;\n\t\t\t\t\twidth: 12px;\n\t\t\t\t\tborder: 2px solid $primary;\n\t\t\t\t\ttransform: translateY(-50%);\n\t\t\t\t\tborder-radius: 3px;\n\t\t\t\t}\n\n\t\t\t\t&.active {\n\n\t\t\t\t\t&::after {\n\t\t\t\t\t\tbackground-color: $primary;\n\t\t\t\t\t}\n\n\t\t\t\t\t&::before {\n\t\t\t\t\t\tcontent: \" \";\n\t\t\t\t\t\theight: 4px;\n\t\t\t\t\t\twidth: 10px;\n\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\ttop: 54%;\n\t\t\t\t\t\tleft: 7%;\n\t\t\t\t\t\tborder-left: 3px solid white;\n\t\t\t\t\t\tborder-bottom: 3px solid white;\n\t\t\t\t\t\ttransform: translateY(calc(-50% - 3px)) rotate(-45deg);\n\t\t\t\t\t\tz-index: 10;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\t}\n</style>\n"],"sourceRoot":"src/components"}]}